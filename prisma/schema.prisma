// prisma/schema.prisma

// 1. Generator: tells Prisma to create the JS client
generator client {
  provider = "prisma-client-js"
}

// 2. Datasource: SQLite DB stored in dev.db
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

// 3. Your models (unchanged from the good version we had)

model Stock {
  id                 Int      @id @default(autoincrement())
  ticker             String   @unique
  company            String
  toneScore          Int?
  growthScore        Int?
  profitabilityScore Int?
  valuationScore     Int?
  balanceScore       Int?
  healthScore        Int?
  rating             String?
  notes              String?
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  toneAnalyses       ToneAnalysis[]
}

model ToneAnalysis {
  id               Int      @id @default(autoincrement())
  stockId          Int
  confidenceScore  Int?
  finalToneScore   Int?
  summary          String?
  recommendation   String?
  createdAt        DateTime @default(now())

  stock            Stock    @relation(fields: [stockId], references: [id])
}
